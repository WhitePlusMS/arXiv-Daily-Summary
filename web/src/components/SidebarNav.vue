<template>
  <nav :class="['sidebar', { collapsed }]" aria-label="ä¸»å¯¼èˆª">
    <div class="sidebar-header">
      <button
        class="toggle-btn"
        @click="collapsed = !collapsed"
        :aria-expanded="!collapsed"
      >
        {{ collapsed ? "â˜°" : "â˜° å¯¼èˆª" }}
      </button>
    </div>
    <ul class="nav-list">
      <li>
        <RouterLink to="/" class="nav-link" :class="{ active: route.name === 'dashboard' }">
          <span class="icon">ğŸ </span>
          <span v-if="!collapsed">ä¸»é¢æ¿</span>
        </RouterLink>
      </li>
      <li>
        <RouterLink to="/matcher" class="nav-link" :class="{ active: route.name === 'matcher' }">
          <span class="icon">ğŸ¯</span>
          <span v-if="!collapsed">åˆ†ç±»åŒ¹é…</span>
        </RouterLink>
      </li>
      <li>
        <RouterLink
          to="/categories"
          class="nav-link"
          :class="{ active: route.name === 'categories' }"
        >
          <span class="icon">ğŸ“š</span>
          <span v-if="!collapsed">åˆ†ç±»æµè§ˆ</span>
        </RouterLink>
      </li>
      <li>
        <RouterLink
          to="/env-config"
          class="nav-link"
          :class="{ active: route.name === 'env-config' }"
        >
          <span class="icon">âš™ï¸</span>
          <span v-if="!collapsed">ç¯å¢ƒé…ç½®</span>
        </RouterLink>
      </li>
    </ul>
  </nav>
</template>

<script setup lang="ts">
import { ref } from "vue";
import { useRoute, RouterLink } from "vue-router";

const collapsed = ref(false);
const route = useRoute();
</script>
