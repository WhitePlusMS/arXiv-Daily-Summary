<template>
  <nav :class="['ui-sidebar', { collapsed }]" aria-label="ä¸»å¯¼èˆª">
    <div class="ui-sidebar-header">
      <button class="ui-sidebar-toggle" @click="collapsed = !collapsed" :aria-expanded="!collapsed">
        {{ collapsed ? "â˜°" : "â˜° å¯¼èˆª" }}
      </button>
    </div>
    <ul class="ui-nav-list">
      <li>
        <RouterLink to="/" class="ui-nav-link" :class="{ active: route.name === 'dashboard' }">
          <span class="ui-nav-icon">ğŸ </span>
          <span v-if="!collapsed">ä¸»é¢æ¿</span>
        </RouterLink>
      </li>
      <li>
        <RouterLink to="/matcher" class="ui-nav-link" :class="{ active: route.name === 'matcher' }">
          <span class="ui-nav-icon">ğŸ¯</span>
          <span v-if="!collapsed">åˆ†ç±»åŒ¹é…</span>
        </RouterLink>
      </li>
      <li>
        <RouterLink
          to="/categories"
          class="ui-nav-link"
          :class="{ active: route.name === 'categories' }"
        >
          <span class="ui-nav-icon">ğŸ“š</span>
          <span v-if="!collapsed">åˆ†ç±»æµè§ˆ</span>
        </RouterLink>
      </li>
      <li>
        <RouterLink
          to="/env-config"
          class="ui-nav-link"
          :class="{ active: route.name === 'env-config' }"
        >
          <span class="ui-nav-icon">âš™ï¸</span>
          <span v-if="!collapsed">ç¯å¢ƒé…ç½®</span>
        </RouterLink>
      </li>
    </ul>

    <div class="ui-sidebar-footer">
      <div class="project-logo" :class="{ collapsed }">
        <img :src="logoSrc" alt="Arxiv Daily" class="logo-image" />
        <span v-if="!collapsed" class="logo-text">arxiv Daily</span>
      </div>
    </div>
  </nav>
</template>

<script setup lang="ts">
import { ref } from "vue";
import { useRoute, RouterLink } from "vue-router";
import logoSrc from "@/assets/logo.png";

const collapsed = ref(false);
const route = useRoute();
</script>
